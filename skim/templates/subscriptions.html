{% extends 'base.html' %}
{% block content %}
<main class='pure-g'>
    <section class='pure-u-1-1'>
        <table id='subscriptions' class='subscriptions'>
            <thead>
                <tr>
                    <th class='feed sort' data-sort='feed'>Feed</th>
                    <th class='entries sort' data-sort='entries'>Entries</th>
                    <th class='oldest sort' data-sort='oldest'>Oldest</th>
                    <th class='newest sort' data-sort='newest'>Newest</th>
                </tr>
            </thead>
            <thead>
                <tr>
                    <th colspan='4'>
                        <input id='subscribe' placeholder='subscribe to a new feed' />
                    </th>
                </tr>
            </thead>
            <tbody class='list'>
            {% for subscription in subscriptions %}
                <tr>
                    <td class='feed'><a href='{{ url_for('index') }}?feed={{ subscription.url|urlencode }}'>{{ subscription.title or subscription.url }}</a></td>
                    <td class='entries'>{{ subscription.entry_count }}</td>
                    <td class='oldest'>
                        {% if subscription.first_entry %}
                        <time title='{{ subscription.first_entry.isoformat() + "Z" }}' data-iso='{{ subscription.first_entry.isoformat() + "Z" }}'>{{ subscription.first_entry }}</time>
                        {% endif %}
                    </td>
                    <td class='newest'>
                        {% if subscription.latest_entry %}
                        <time title='{{ subscription.latest_entry.isoformat() + "Z" }}' data-iso='{{ subscription.latest_entry.isoformat() + "Z" }}'>{{ subscription.latest_entry }}</time>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </section>
</main>
{% endblock %}
